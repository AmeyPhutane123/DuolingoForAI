/* ---------------- Premium baseline ---------------- */
:root{
  --bg:#0b1220; --panel:#0f1626; --panel-2:#0c1320;
  --text:#e8f1fb; --muted:#b4c4db; --border:#1d2940;
  --brand:#22c55e; --brand-2:#18a14c; --brand-3:#0b7a36;
}
html,body,[class*="css"]{ font-family: Inter, system-ui, Segoe UI, Roboto, Arial; }
.stApp{ background:var(--bg); color:var(--text); }
header[data-testid="stHeader"]{ background:transparent; }
div.block-container{ max-width: 1160px !important; padding-top:.6rem; }

/* ---------------- Sidebar polish ---------------- */
section[data-testid="stSidebar"]{
  background:linear-gradient(180deg,var(--panel) 0%, var(--panel-2) 100%);
  border-right:1px solid var(--border);
}
section[data-testid="stSidebar"] .stButton>button{
  width:100%; border-radius:10px; padding:.5rem .7rem; font-weight:800; border:1px solid var(--border);
}
section[data-testid="stSidebar"] button[kind="secondary"]{ background:#0d1729; color:var(--text); }
section[data-testid="stSidebar"] button[kind="primary"]{ background:var(--brand); color:#041a12; }
section[data-testid="stSidebar"] .st-expander{ background:transparent; border:1px solid var(--border); border-radius:10px; }
section[data-testid="stSidebar"] .stProgress>div>div{ background:var(--brand); }

/* ---------------- Responsive tiles (3/2/1) ---------------- */
.tiles{
  display:grid !important;
  grid-auto-flow: row;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 14px;
}
@media (min-width:1280px){ .tiles{ grid-template-columns: repeat(3, minmax(0,1fr)); } }
@media (min-width:820px) and (max-width:1279px){ .tiles{ grid-template-columns: repeat(2, minmax(0,1fr)); } }

/* Compact banner card */
.tile{
  position:relative; background:var(--panel); border:1px solid var(--border); border-radius:14px; overflow:hidden;
  aspect-ratio: 16/7.2; min-height:200px; box-shadow:0 10px 24px rgba(0,0,0,.32);
  transition: transform .14s ease, border-color .14s ease, box-shadow .14s ease;
}
.tile:hover{ transform:translateY(-2px); border-color:#2a3d55; box-shadow:0 14px 30px rgba(0,0,0,.38); }

/* Imagery + legibility overlay */
.tile-img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; filter:saturate(106%); }
.tile-grad{
  position:absolute; inset:0;
  background:
    linear-gradient(180deg, rgba(8,12,20,0) 0%, rgba(8,12,20,.22) 40%, rgba(8,12,20,.78) 100%),
    radial-gradient(65% 70% at 80% 0%, rgba(0,0,0,.12), transparent 60%);
}

/* Badges (compact) */
.badges{ position:absolute; right:10px; top:10px; display:flex; gap:6px; z-index:2; }
.badge{
  background: rgba(10,16,28,.74); color:#eef4ff; border:1px solid rgba(255,255,255,.1);
  padding:.22rem .48rem; border-radius:999px; font-weight:800; font-size:.76rem; display:flex; align-items:center; gap:6px;
  backdrop-filter: blur(6px);
}

/* Overlay text */
.tile-content{ position:absolute; left:12px; right:12px; bottom:12px; color:#eef4ff; z-index:2; }
.tile-title{ font-weight:900; font-size:1.02rem; margin:0 0 3px 0; text-shadow:0 2px 10px rgba(0,0,0,.5); }
.tile-desc{ color:#d8e5fb; font-size:.9rem; line-height:1.35; max-width:62ch; }

/* Lesson content containers */
.panel{ background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:14px; }
.sticky{ position:sticky; top:16px; }
.meta-item{ display:flex; align-items:center; gap:10px; color:var(--muted); }
.meta-dot{ width:8px; height:8px; background:var(--brand); border-radius:50%; }
.markdown-body{ line-height:1.65; }
.markdown-body h1,h2,h3,h4{ color:var(--text); }
.markdown-body p, .markdown-body li{ color:#d7e4f7; }
.info{ border:1px dashed var(--border); background:#0e1728; color:var(--muted); padding:12px 14px; border-radius:10px; }
.progress-label{ color:var(--brand); font-weight:800; }

/* Compact CTA if used */
.stButton>button.home-cta{ padding:.42rem .7rem; border-radius:10px; font-weight:800; }
